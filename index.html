<!doctype html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" href="/icon-192x192.png" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  <!-- 전체화면 및 줌 방지 (모바일 게임 필수) -->
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <!-- PWA / 모바일 웹앱 풀스크린 지원 (iOS Safari 메뉴바 숨김 효과) -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="mobile-web-app-capable" content="yes" />


  <meta name="theme-color" content="#1a1a2e" />
  <title>머나먼약속</title>
  <link rel="manifest" href="/manifest.json" />
</head>

<body>
  <!-- 화면 가로 회전 방지 오버레이 -->
  <div id="landscape-warning" style="display: none;">
    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round" style="margin-bottom: 20px; animation: spin 2s linear infinite;">
      <path d="M21.5 2v6h-6M2.13 15.57a9 9 0 1 0 13.3-11.75" />
    </svg>
    <h2 style="font-size: 1.5rem; margin-bottom: 0.5rem;">세로 모드로 돌려주세요</h2>
    <p style="color: #cbd5e1; font-size: 0.9rem;">이 게임은 세로 화면 전용입니다.</p>
  </div>

  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
  <script>
    (function () {
      // 다국어 제목 동적 적용(탭)
      const isKorean = navigator.language.startsWith('ko');
      if (!isKorean) {
        document.title = "A Distant Promise";
      }

      // 화면 세로 고정 시도 (지원하는 브라우저의 경우)
      if (screen.orientation && screen.orientation.lock) {
        screen.orientation.lock('portrait').catch(function (error) {
          console.log('Orientation lock not supported: ', error);
        });
      }
    })();

    // 서비스워커 등록은 vite-plugin-pwa(Workbox)가 빌드 시 자동 주입한다.
    // 수동 등록 코드 제거 — 중복 등록 방지.
  </script>
</body>

</html>